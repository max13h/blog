---
import BaseLayout from "../layouts/BaseLayout.astro"
import { getCollection } from "astro:content"
import UINavbar from "../components/UI/UINavbar.astro"

const articles = await getCollection("articles")
---

<BaseLayout>
  <div class="container">
    <UINavbar class="nav" />
    <main>
      <h1>Welcome to my personal blog</h1>
      <ul>
        {
          articles.map((article) => (
            <li>
              <a href={`/articles/${article.id}`}>{article.data.title}</a>
            </li>
          ))
        }
      </ul>
    </main>
  </div>
</BaseLayout>

<style>
  .container {
    display: flex;
    flex-direction: column;
    position: relative;
    align-items: center;

    & .nav {
      position: sticky;
      width: 100%;
      top: 0;
    }

    & main {
      display: flex;
      flex-direction: column;
      align-items: start;
      gap: 1rem;
      width: clamp(256px, 100vw, 900px);
      & h1 {
        text-align: center;
      }
      & ul {
        display: flex;
        width: 100%;
      }
    }
  }
</style>
